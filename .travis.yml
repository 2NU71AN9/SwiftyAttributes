language: objective-c
osx_image: xcode8

env:
  - PLATFORM=iOS  SCHEME='SwiftyAttributes-iOS'   CODECOV=ios   DESTINATION='platform=iOS Simulator,name=iPhone 6S'
  - PLATFORM=Mac  SCHEME='SwiftyAttributes-macOS' CODECOV=osx   DESTINATION='platform=OS X'
  - PLATFORM=tvOS SCHEME='SwiftyAttributes-tvOS'  CODECOV=tvos  DESTINATION='platform=tvOS Simulator,name=Apple TV 1080p'

script:
  - xcodebuild -version
  - xcodebuild -project SwiftyAttributes.xcodeproj -scheme "$SCHEME" -destination "$DESTINATION" -configuration Debug -enableCodeCoverage YES test
  - bash <(curl -s https://codecov.io/bash) -cF "$CODECOV"
